<link rel="import" href="../../bower-assets/polymer/polymer.html">

<!-- iron-* -->
<link rel="import" href="../../bower-assets/iron-icons/iron-icons.html">
<link rel="import" href="../../bower-assets/iron-icon/iron-icon.html">

<!-- paper-* -->
<link rel="import" href="../../bower-assets/paper-button/paper-button.html">
<link rel="import" href="../../bower-assets/paper-card/paper-card.html">
<link rel="import" href="../../bower-assets/paper-input/paper-input.html">
<link rel="import" href="../../bower-assets/paper-input/paper-input-container.html">
<link rel="import" href="../../bower-assets/paper-input/paper-textarea.html">
<link rel="import" href="../../bower-assets/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower-assets/paper-dropdown-menu/paper-dropdown-menu-light.html">
<link rel="import" href="../../bower-assets/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower-assets/paper-item/paper-item.html">
<link rel="import" href="../../bower-assets/paper-fab/paper-fab.html">
<link rel="import" href="../../bower-assets/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../bower-assets/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower-assets/paper-menu-button/paper-menu-button.html">

<!-- style -->
<link rel="import" href="../../styles/common-style.html">

<!-- behavior -->
<link rel="import" href="../../behaviors/common-computes.html">
<link rel="import" href="../../behaviors/db-using.html">
<link rel="import" href="../../behaviors/translating.html">
<link rel="import" href="../../behaviors/page-like.html">

<!-- custom-elements -->
<link rel="import" href="../html-block/html-block.html">
<!--<link rel="import" href="../custom-graph/custom-graph.html">-->

<!-- element -->
<dom-module id="page-print-anaesmon-record">
  <template>

    <!-- style -->

    <style is="custom-style" include="common-style">
    .limiting-container {
      margin-top: 10px;
    }
    
    .limiting-container {
      max-width: 210mm;
      min-height: 230mm;
      /*min-height: 297mm;*/
    }
    
    .document {
      font-family: 'Times New Roman';
      background: white;
    }
    
    .document-title {
      font-size: 16px;
      text-decoration: underline;
      font-weight: bold;
      @apply(--layout-vertical);
      @apply(--layout-center);
    }
    
    @media print {
      .limiting-container {
        margin-top: -60px;
        /*border: 1px solid black;*/
      }
    }
    
    .collection {
      color: red;
      background: grey;
    }
    
    .document-header {
      padding-left: 10px;
      padding-right: 10px;
    }
    
    .document-header .logo {
      max-width: 128px;
      max-height: 128px;
    }
    
    .horiline {
      width: 100%;
      height: 0px;
      /*background: black;*/
      border: 1px solid black;
      margin-bottom: 6px;
    }
    
    .leftSide {
      margin-left: 6px;
    }
    
    .leftSideLine1 {
      font-size: 24px;
    }
    
    .rightSideLine1 {
      font-size: 22px;
    }
    /*NSQIP START*/
    
    .nsqip-card,
    .billing-card {
      margin-top: 20px;
    }
    
    .x-end {
      text-align: right;
    }
    
    .row {
      margin-bottom: 10px;
    }
    
    .key {
      padding-right: 10px;
    }
    
    .val {
      font-weight: bold;
    }

    .footerLine {
      /*position: absolute;*/
      /*bottom: 0px;*/
      margin-top: 600px;
      color: #cccccc;
    }
    /*NSQIP END*/
    </style>

    <!-- local DOM -->

    <div class="master-container">

      <div class="limiting-container document vertical layout">

        <template is="dom-if" if="[[shouldRender]]">

          <div class="document-header horizontal layout center">

            <template is="dom-if" if="[[settings.printDecoration.logoDataUri]]">
              <img class="logo" src="[[settings.printDecoration.logoDataUri]]" alt="">
            </template>

            <div class="leftSide vertical layout">
              <div class="leftSideLine1">[[settings.printDecoration.leftSideLine1]]</div>
              <div class="leftSideLine2">[[settings.printDecoration.leftSideLine2]]</div>
              <div class="leftSideLine3">[[settings.printDecoration.leftSideLine3]]</div>
            </div>
            <div class="flex"></div>
            <div class="rightSide vertical layout end">
              <div class="rightSideLine1">[[settings.printDecoration.rightSideLine1]]</div>
              <div class="rightSideLine2">[[settings.printDecoration.rightSideLine2]]</div>
              <div class="rightSideLine3">[[settings.printDecoration.rightSideLine3]]</div>
            </div>
          </div>

          <div class="horiline"></div>

          <div class="document-title">[[recordPartTitle]]</div>

          <template is="dom-if" if="[[isCustom]]">

            <template is="dom-if" if="[[$equals(recordPartTitle, 'NSQIP Summary')]]">

              <div class="nsqip-card vertical layout">

                <div class="horizontal layout row">
                  <div class="flex x-end key">Physical:</div>
                  <div class="flex val">Weight: [[recordPartData.physical.weight]], Height: [[recordPartData.physical.weight]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Diabetes Mellitus:</div>
                  <div class="flex val">[[recordPartData.diabetesMellitus]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Current Smoker:</div>
                  <div class="flex val">[[recordPartData.currentSmoker]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Dyspnea:</div>
                  <div class="flex val">[[recordPartData.dyspnea]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Functional Health Status:</div>
                  <div class="flex val">[[recordPartData.functionalHealthStatus]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Ventilator Dependent:</div>
                  <div class="flex val">[[recordPartData.ventilatorDependent]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">COPD:</div>
                  <div class="flex val">[[recordPartData.copd]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">CHF:</div>
                  <div class="flex val">[[recordPartData.chf]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Hypertension Requiring Medication:</div>
                  <div class="flex val">[[recordPartData.hypertensionRequiringMedication]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Ascites:</div>
                  <div class="flex val">[[recordPartData.ascites]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Acute Renal Failure:</div>
                  <div class="flex val">[[recordPartData.acuteRenalFailure]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Temperature:</div>
                  <div class="flex val">[[recordPartData.temperature]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Fasting Time:</div>
                  <div class="flex val">[[recordPartData.fastingTime]]</div>
                </div>

              </div>

            </template>

            <template is="dom-if" if="[[$equals(recordPartTitle, 'Billing Summary')]]">

              <div class="billing-card vertical layout">

                <div class="horizontal layout row">
                  <div class="flex x-end key">Name:</div>
                  <div class="flex val">[[recordPartData.patientRecords.name]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Date of Birth:</div>
                  <div class="flex val">[[recordPartData.patientRecords.dob]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">ID:</div>
                  <div class="flex val">[[recordPartData.patientRecords.id]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Operation Name:</div>
                  <div class="flex val">[[recordPartData.preop.nameOfOperation]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Procedure Date:</div>
                  <div class="flex val">[[recordPartData.preop.dateOfProcedure]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Operation Code:</div>
                  <div class="flex val">[[recordPartData.preop.operationCode]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Surgeon Name:</div>
                  <div class="flex val">[[recordPartData.preop.nameOfSurgeon]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Start Time:</div>
                  <div class="flex val">[[recordPartData.preop.startTime]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Finish Time:</div>
                  <div class="flex val">[[recordPartData.preop.finishTime]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Handover Time:</div>
                  <div class="flex val">[[recordPartData.preop.handoverTime]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Handover To:</div>
                  <div class="flex val">[[recordPartData.preop.handoverTo]]</div>
                </div>

              </div>

            </template>

            <template is="dom-if" if="[[$equals(recordPartTitle, 'Invoice')]]">

              <div class="billing-card vertical layout">

                <div class="horizontal layout row">
                  <div class="flex x-end key">Serial:</div>
                  <div class="flex val">[[record.serial]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Name of Institution:</div>
                  <div class="flex val">[[recordPartData.nameOfInstitution]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Name of Patient:</div>
                  <div class="flex val">[[recordPartData.nameOfPatient]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Name of Billing Person:</div>
                  <div class="flex val">[[recordPartData.billingPersonsName]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Service Rendered:</div>
                  <div class="flex val">[[$fromListOrCustom(serviceRenderedOptionList, recordPartData.serviceRenderedSelectedIndex, recordPartData.customServiceRendered)]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Source of the patient:</div>
                  <div class="flex val">[[$fromListOrCustom(sourceOfPatientOptionList, recordPartData.sourceOfPatientSelectedIndex, recordPartData.customSourceOfPatient)]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Date Performed:</div>
                  <div class="flex val">[[recordPartData.datePerformed]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Date Due:</div>
                  <div class="flex val">[[recordPartData.dateDue]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Time From:</div>
                  <div class="flex val">[[recordPartData.timeFrom]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Time To:</div>
                  <div class="flex val">[[recordPartData.timeTo]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Comments:</div>
                  <div class="flex val">[[recordPartData.comments]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Fee Paid On:</div>
                  <div class="flex val">[[recordPartData.feePaidOn]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Fee Paid By:</div>
                  <div class="flex val">[[$fromListOrCustom(feePaidByOptionList, recordPartData.feePaidBySelectedIndex, recordPartData.customSourceOfPatient)]]</div>
                </div>

                <div class="horizontal layout row">
                  <hr class="flex" />
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Fee Billed:</div>
                  <div class="flex val">[[recordPartData.feeBilledAmount]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Fee Paid:</div>
                  <div class="flex val">[[recordPartData.feePaidAmount]]</div>
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Fee Remaining:</div>
                  <div class="flex val">[[$calculateRemaining(recordPartData.feePaidAmount, recordPartData.feeBilledAmount)]]</div>
                </div>

                <div class="horizontal layout row">
                  <hr class="flex" />
                </div>

                <div class="horizontal layout row">
                  <div class="flex x-end key">Payment Status</div>
                  <div class="flex val">[[$toReadbleStatus(recordPartData.paymentStatus)]]</div>
                </div>

              </div>

            </template>

          </template>

          <!-- <template is="dom-if" if="[[!isCustom]]"></template> -->
          <html-block html="[[recordPartHtmlContent]]"></html-block>

        </template>

        <div class="sp-2"></div>
        <div class="horizontal layout center center-justified p-horizontal-16">
          <div class="type body italic"><strong>printed by: </strong>[[user.name]]</div>
        </div>

        <div class="footerLine">[[settings.printDecoration.footerLine]]</div>

        <!-- UNCOMMENT IF SOMETHING GOES WRONG!</template> -->

      </div>

    </div>

    <div class="graph-temporary-insertion-point"></div>

  </template>
  <script src="page-print-anaesmon-record.coffee-compiled.js"></script>
</dom-module>
